<main class="content">
  <section>
    <h1 class="title" *ngIf="!isEdit">Pra começar,
      quem está no rolê?
    </h1>
    <h1 class="title" *ngIf="isEdit">
      Deseja excluir ou adicionar alguém?
    </h1>

    <form class="form-content"  [formGroup]="form" [scrollTop]="conteudo.scrollHeight" #conteudo>
      <div formArrayName="inputs">
        <div *ngFor="let input of inputs.controls; let i = index;" [formGroupName]="i" >
          <div class="input-content" [ngClass]="{'error-input': this.inputs.at(i).dirty && this.inputs.at(i).invalid }">
            <input type="text" [autocomplete]="false" name="name" formControlName="name" appAutofocus maxlength="25">
            <app-button-link (buttonAction)="deleteUser(i);" title="excluir"></app-button-link>
          </div>
          <p class="error-msg" *ngIf="(this.inputs.at(i).dirty && this.inputs.at(i).invalid) && this.inputs.at(i).get('name').value.length> 25">O nome não pode ter mais de 25 caracteres.</p>
          <p class="error-msg" *ngIf="this.inputs.at(i).dirty && this.inputs.at(i).get('name').value.length === 0">Ops! Esse nome está em branco.</p>
          <!-- <p class="error-msg" *ngIf="this.inputs.at(i).dirty && this.inputs.at(i).get('name').value.length < 2">O nome precisa ter mais de uma letra.</p> -->
        </div>
      </div>
      <div class="input-content">
        <button class="btn-add" (click)="addNewUserInput();">
          <p>Nome da pessoa</p>
        </button>
        <app-button-link (buttonAction)="deleteUser();" title="excluir"></app-button-link>
      </div>
    </form>
  </section>

  <section class="btn-next">
    <app-button
      buttonTitle="começar"
      [isDisabled]="!canEnableSubmitButton()"
      styleButton="primary"
      size="large"
      (buttonAction)="submit();"
    ></app-button>
  </section>
</main>
